# ButtonPressFx
# Written by: HeartCode

extends ColorRect

class_name ButtonPressFx

"""
	Add this as a child node of Button to make it play
	a click effect automatically.
"""

#-------------------------------------------------
#      Classes
#-------------------------------------------------

#-------------------------------------------------
#      Signals
#-------------------------------------------------

#-------------------------------------------------
#      Constants
#-------------------------------------------------

#-------------------------------------------------
#      Properties
#-------------------------------------------------

onready var anim = $AnimationPlayer

#-------------------------------------------------
#      Notifications
#-------------------------------------------------

func _ready() -> void:
	_connect_parent_button()
	hide()

#-------------------------------------------------
#      Virtual Methods
#-------------------------------------------------

#-------------------------------------------------
#      Override Methods
#-------------------------------------------------

#-------------------------------------------------
#      Public Methods
#-------------------------------------------------

#-------------------------------------------------
#      Connections
#-------------------------------------------------

func _on_parent_pressed():
	_play_flash_animation()

#-------------------------------------------------
#      Private Methods
#-------------------------------------------------

func _connect_parent_button():
	var parent = get_parent()
	
	if parent is BaseButton:
		parent.connect("pressed", self, "_on_parent_pressed")

func _play_flash_animation():
	anim.play("Flash Ease-In")
#-------------------------------------------------
#      Setters & Getters
#-------------------------------------------------
