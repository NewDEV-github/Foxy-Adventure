<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.13">
<meta name="author" content="VMware InstallBuilder Team">
<title>VMware InstallBuilder AutoUpdate Tool</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:50%;border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>VMware InstallBuilder AutoUpdate Tool</h1>
<div class="details">
<span id="author" class="author">VMware InstallBuilder Team</span><br>
<span id="email" class="email"><a href="mailto:installbuilder-evaluation@groups.vmware.com">installbuilder-evaluation@groups.vmware.com</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_autoupdate_tool">AutoUpdate Tool</a>
<ul class="sectlevel2">
<li><a href="#_how_to_use_autoupdate_in_installbuilder">How to Use AutoUpdate in InstallBuilder</a>
<ul class="sectlevel3">
<li><a href="#_how_does_it_work">How Does it Work?</a></li>
<li><a href="#_basic_example">Basic example</a></li>
</ul>
</li>
<li><a href="#_adding_the_autoupdate_to_an_existing_installbuilder_project">Adding the AutoUpdate to an Existing InstallBuilder project</a></li>
<li><a href="#_using_autoupdate_as_a_notifier">Using AutoUpdate as a notifier</a></li>
<li><a href="#_how_to_execute_custom_actions_right_after_the_autoupdate_has_started">How to execute custom actions right after the AutoUpdate has started</a></li>
<li><a href="#_how_to_execute_custom_actions_after_the_update_installer_is_downloaded">How to execute custom actions after the update installer is downloaded</a></li>
<li><a href="#_autoupdate_installers_in_unattended_mode">AutoUpdate installers in unattended mode</a>
<ul class="sectlevel3">
<li><a href="#_regular_unattended_mode">Regular unattended mode</a></li>
<li><a href="#_download_unattended_mode">Download unattended mode</a></li>
</ul>
</li>
<li><a href="#_sequential_updates">Sequential updates</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_autoupdate_tool">AutoUpdate Tool</h2>
<div class="sectionbody">
<div class="paragraph">
<p>InstallBuilder bundles an automatic update tool that can be used to download and install packages over the Internet, AutoUpdate. It can be found in the <code>autoupdate/</code> directory under the main installation directory.</p>
</div>
<div class="sect2">
<h3 id="_how_to_use_autoupdate_in_installbuilder">How to Use AutoUpdate in InstallBuilder</h3>
<div class="paragraph">
<p>The AutoUpdate tool allows you to provide your users with an easy and automatable way to check for, download and apply updates to your software.</p>
</div>
<div class="sect3">
<h4 id="_how_does_it_work">How Does it Work?</h4>
<div class="paragraph">
<p>When executed, the AutoUpdate wizard will poll your server to get information about the available software versions for the platform in which it is running. The detailed process is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Read the INI file that contains information about where to contact the server and which version is currently installed. This INI file must be delivered together with the binary and placed in the same directory.</p>
</li>
<li>
<p>Get the XML file from the server, which contains available versions for each platform.</p>
</li>
<li>
<p>If there&#8217;s a newer version available for the target platform (checking that the version ID received is higher than the current one stored in INI file), download and install it or notify the user depending on the execution mode.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The AutoUpdate wizard is defined in an XML project, similar to a regular InstallBuilder project, but much simpler. The project XML file must have the main tag <code>&lt;autoUpdateProject&gt;</code> containing the list of customizations to apply to the wizard:</p>
</div>
<div class="paragraph">
<p><a id="snip804"></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;autoUpdateProject&gt;
  &lt;fullName&gt;Example Project&lt;/fullName&gt;
  &lt;shortName&gt;example&lt;/shortName&gt;
  &lt;vendor&gt;Acme Inc.&lt;/vendor&gt;
  &lt;version&gt;1.0&lt;/version&gt;
  &lt;windowsExecutableIcon&gt;images/updater.ico&lt;/windowsExecutableIcon&gt;
  &lt;leftImage&gt;images/left-image.png&lt;/leftImage&gt;
  &lt;logoImage&gt;images/logo-image.png&lt;/logoImage&gt;
  ...
&lt;/autoUpdateProject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The currently supported settings are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>General settings</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><code>&lt;fullName&gt;</code>: The full product name, as it will be displayed in the autoupdater</p>
</li>
<li>
<p><code>&lt;shortName&gt;</code>: The short version of product name. It can only contain alphanumeric characters</p>
</li>
<li>
<p><code>&lt;vendor&gt;</code>: Vendor name</p>
</li>
<li>
<p><code>&lt;version&gt;</code>: Product version number.</p>
</li>
<li>
<p><code>&lt;rebootRequired&gt;</code>: Determines whether or not to ask the user to reboot after the AutoUpdate process is completed (Windows-specific option).</p>
</li>
<li>
<p><code>&lt;requireInstallationByRootUser&gt;</code>: Whether or not running the autoupdater will require super user privileges (root on Linux, Administrator user on Windows and OS X). This setting will prevent the autoupdate from running if the user is not root or Administrator on all operating systems except for OS X. In OS X, the regular authentication dialog window will be shown, asking the user for the administrator password so the autoupdate wizard can be run with root privileges</p>
</li>
<li>
<p><code>&lt;singleInstanceCheck&gt;</code>: Check that only one autoupdater instance is running</p>
</li>
<li>
<p><code>&lt;requestedExecutionLevel&gt;</code>: UAC execution level of the AutoUpdate on Windows</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Look And Feel</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><code>&lt;height&gt;</code>: Autoupdate wizard window height</p>
</li>
<li>
<p><code>&lt;width&gt;</code>: Autoupdate wizard window width</p>
</li>
<li>
<p><code>&lt;leftImage&gt;</code>: 163x314 GIF or PNG image that will be placed at the left side of the autoupdate wizard in the Welcome and Update Finished pages. If no image is specified, the default image will be used</p>
</li>
<li>
<p><code>&lt;logoImage&gt;</code>: 48x48 GIF or PNG logo image that will be placed at the top right corner of the autoupdate wizard. If no image is specified, the default image will be used</p>
</li>
<li>
<p><code>&lt;splashImage&gt;</code>: The GIF or PNG image that will appear when launching the autoupdate wizard.</p>
</li>
<li>
<p><code>&lt;splashScreenDelay&gt;</code>: Extra display time of the splash screen in milliseconds</p>
</li>
<li>
<p><code>&lt;disableSplashScreen&gt;</code>: Disable the initial splash screen.</p>
</li>
<li>
<p><code>&lt;overrideGtkButtonText&gt;</code>: Translate buttons to the selected language instead of using system-built values for Unix GTK mode</p>
</li>
<li>
<p><code>&lt;wmImage&gt;</code>: 48x48 GIF or PNG logo image that will be shown in the window manager task bar on Unix systems. If no image is specified, the default logo image will be used</p>
</li>
<li>
<p><code>&lt;windowsExecutableIcon&gt;</code>: ICO file with an specific format to set the icon for the autoupdate executable file on Windows systems. The allowed ICO formats are detailed in the Windows Icons section.</p>
</li>
<li>
<p><code>&lt;osxApplicationBundleIcon&gt;</code>: ICNS file to include in the AutoUpdate Application Bundle</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Windows Resources</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><code>&lt;windowsResourceComments&gt;</code>: Comments for resources embedded in Windows executable</p>
</li>
<li>
<p><code>&lt;windowsResourceCompanyName&gt;</code>: Company Name for resources embedded in Windows executable</p>
</li>
<li>
<p><code>&lt;windowsResourceFileDescription&gt;</code>: File Description for resources embedded in Windows executable</p>
</li>
<li>
<p><code>&lt;windowsResourceFileVersion&gt;</code>: File version for resources embedded in Windows executable</p>
</li>
<li>
<p><code>&lt;windowsResourceInternalName&gt;</code>: Internal Name for resources embedded in Windows executable</p>
</li>
<li>
<p><code>&lt;windowsResourceLegalCopyright&gt;</code>: Legal Copyright for resources embedded in Windows executable</p>
</li>
<li>
<p><code>&lt;windowsResourceLegalTrademarks&gt;</code>: Legal Trademarks for resources embedded in Windows executable</p>
</li>
<li>
<p><code>&lt;windowsResourceOriginalFilename&gt;</code>: Original Filename for resources embedded in Windows executable</p>
</li>
<li>
<p><code>&lt;windowsResourceProductName&gt;</code>: Product Name for resources embedded in Windows executable</p>
</li>
<li>
<p><code>&lt;windowsResourceProductVersion&gt;</code>: Product Version for resources embedded in Windows executable</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once your <code>&lt;autoUpdateProject&gt;</code> is configured, you can build it using the <code>customize</code> tool, located in the <code>bin</code> folder, under the AutoUpdate directory. Depending on the OS, you will be able to build AutoUpdate binaries for <code>windows</code>, <code>osx</code>, <code>linux</code> or <code>linux-x64</code>, reusing the same AutoUpdate XML project.</p>
</div>
<div class="paragraph">
<p>The syntax to use the tool is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$&gt; installbuilder-21.9.0/autoupdate/bin/customize build /path/to/autoUpdateProject.xml windows

 Autoupdater successfully created. You can find it at

 installbuilder-21.9.0/autoupdate/output/autoupdate-windows.exe</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also check it invoking the tool without arguments:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$&gt; installbuilder-21.9.0/autoupdate/bin/customize

Wrong syntax. Correct syntax is

customize build /path/to/project.xml [windows|linux|linux-x64|osx]</code></pre>
</div>
</div>
<div class="paragraph">
<p>As previously mentioned, the AutoUpdate wizard must be distributed along with an INI file. The basic information required, organized in the <code>Update</code> section of the INI file, is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><code>url</code></strong>: Points to the remote location of the update data.</p>
</li>
<li>
<p><strong><code>version_id</code></strong>: The local version identifier, which is compared to the remote version identifier to trigger the update process. Its value must be a positive integer.</p>
</li>
<li>
<p><strong><code>update_download_location</code></strong>: The path to the folder where the downloaded files will be saved. Downloading a file that already exists in the download location path will result in the new file being renamed in an incremental way, by appending a number at the end of the file name. If the download folder does not exist, the automatic update process will attempt to create it. If not specified, it defaults to <code>~/.installbuilder/updates</code>.</p>
</li>
<li>
<p><strong><code>check_for_updates</code></strong>: It is possible to enable and disable the AutoUpdate on demand by setting this boolean value.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Basic <code>update.ini</code> file</div>
<div class="content">
<pre>[Update]

url = http://example.com:8080/update.xml
version_id = 0100
check_for_updates = 1
update_download_location = ${installer_directory}/tmp</pre>
</div>
</div>
<div class="paragraph">
<p>Apart from these basic keys, it is also possible to configure other AutoUpdate settings such as the proxy configuration (<code>Proxy</code> section):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><code>enable</code></strong>: Enables (<code>1</code>) or disables (<code>0</code>) the proxy. If the rest of keys are not provided, the proxy configuration from the system will be autodetected and used (if any).</p>
</li>
<li>
<p><strong><code>server</code></strong>: The proxy server.</p>
</li>
<li>
<p><strong><code>port</code></strong>: The port in the proxy server.</p>
</li>
<li>
<p><strong><code>username</code></strong>: Username in the proxy server (if required)</p>
</li>
<li>
<p><strong><code>password</code></strong>: The password in the proxy server (if required)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title"><code>update.ini</code> file with proxy configuration</div>
<div class="content">
<pre>[Update]

url = http://example.com:8080/update.xml
version_id = 0100
check_for_updates = 1
update_download_location = ${installer_directory}/tmp

[Proxy]

server=proxy.example.com
port=8080
username=foo
password=bar</pre>
</div>
</div>
<div class="paragraph">
<p>Some of these settings can also be passed to the AutoUpdate through the command line when calling it. The provided values will then overwrite those configured in the INI file. You can check the available command line settings using the <code>--help</code> flag:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$&gt; installbuilder-21.9.0/autoupdate/runtimes/autoupdate-linux.run --help
Your Program 1.0
Usage:

 --help                         Display the list of valid options

 --unattendedmodeui &lt;unattendedmodeui&gt; Unattended Mode UI
                                Default: none
                                Allowed: none minimal minimalWithDialogs

 --debuglevel &lt;debuglevel&gt;      Debug information level of verbosity
                                Default: 2
                                Allowed: 0 1 2 3 4

 --settings_file &lt;settings_file&gt; Path to the local settings file, containing the HTTP URL to update and the current version ID.
                                Default: installbuilder-21.9.0/autoupdate/runtimes/update.ini

 --url &lt;url&gt;                    HTTP URL that points to the xml file containing the update data.
                                Default:

 --version_id &lt;version_id&gt;      Version ID of the local installation.
                                Default:

 --update_download_location &lt;update_download_location&gt; Path where the downloaded files will be stored.
                                Default: ~/.installbuilder/updates

 --check_for_updates &lt;check_for_updates&gt; Boolean value to specify whether to check for updates or not.
                                Default: 1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Apart from the INI file, you also must define an XML file (<code>update.xml</code>) with the available versions and make it available on your server, in the URL defined in the <code>update.ini</code> file. The server XML must define the below set of properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><code>&lt;version&gt;</code></strong>: Specifies the version of the update. This is the version that will be displayed to the end user. It is not taken into account by the update wizard when determining whether or not there is an update available. Instead, <code>&lt;versionId&gt;</code> is used for that.</p>
</li>
<li>
<p><strong><code>&lt;versionId&gt;</code></strong>: This is an integer, whose value is compared with the one located in the local update.ini file. If the value of <code>&lt;versionId&gt;</code> is bigger than the local one, it indicates that there is a new version of the software available.</p>
</li>
<li>
<p><strong><code>&lt;platformFileList&gt;</code></strong>: This section describes the available update installers for each platform. Each update binary is defined as a <code>&lt;platformFile&gt;</code>, in which you specify the <code>&lt;filename&gt;</code> that will be downloaded only if the user&#8217;s operating system matches the one defined as <code>&lt;platform&gt;</code>. At the moment, OS X installers are expected to be compressed in a .tgz file but future versions will allow users to use other formats.</p>
</li>
<li>
<p><strong><code>&lt;downloadLocationList&gt;</code></strong>: List of download locations (<code>&lt;downloadLocation&gt;</code>), each containing a URL pointing to the remote folder where the files are located, which is used to generate the list of mirrors selectable in the AutoUpdate user interface. The HTTP URL containing the update will be constructed by appending the file field to the mirror url. In the example below, it means the Linux version will be available from <a href="http://www.example.com/updates/download/program-4.0.1.run" class="bare">http://www.example.com/updates/download/program-4.0.1.run</a> and <a href="ftp://www.example.com/mirror/updates/download/program-4.0.1.run" class="bare">ftp://www.example.com/mirror/updates/download/program-4.0.1.run</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="snip805"></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;installerInformation&gt;
    &lt;versionId&gt;2000&lt;/versionId&gt;
    &lt;version&gt;4.0.1&lt;/version&gt;
    &lt;platformFileList&gt;
        &lt;platformFile&gt;
            &lt;filename&gt;program-4.0.1.exe&lt;/filename&gt;
            &lt;platform&gt;windows&lt;/platform&gt;
        &lt;/platformFile&gt;
        &lt;platformFile&gt;
            &lt;filename&gt;program-4.0.1.run&lt;/filename&gt;
            &lt;platform&gt;linux&lt;/platform&gt;
        &lt;/platformFile&gt;
    &lt;/platformFileList&gt;
    &lt;downloadLocationList&gt;
        &lt;downloadLocation&gt;
            &lt;url&gt;http://www.example.com/updates/download/&lt;/url&gt;
        &lt;/downloadLocation&gt;
        &lt;downloadLocation&gt;
            &lt;url&gt;ftp://www.example.com/mirror/updates/download/&lt;/url&gt;
        &lt;/downloadLocation&gt;
    &lt;/downloadLocationList&gt;
&lt;/installerInformation&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p><code>&lt;versionId&gt;</code> must be an integer which takes higher values for the newest versions.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_basic_example">Basic example</h4>
<div class="paragraph">
<p>Imagine you have an application called <code>My Application</code> and you want to include the AutoUpdate functionality in version <code>1.0.0</code>. You may also want, for example, for the update process to be run by an Administrator and prevent multiple instances of the AutoUpdate to run simultaneously. This wizard installer could be created with the simple code below:</p>
</div>
<div class="paragraph">
<p><a id="snip806"></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;autoUpdateProject&gt;
     &lt;fullName&gt;My Application&lt;/fullName&gt;
     &lt;shortName&gt;myapp&lt;/shortName&gt;
     &lt;vendor&gt;Acme Inc.&lt;/vendor&gt;
     &lt;version&gt;1.0.0&lt;/version&gt;
     &lt;singleInstanceCheck&gt;1&lt;/singleInstanceCheck&gt;
     &lt;requireInstallationByRootUser&gt;1&lt;/requireInstallationByRootUser&gt;
  &lt;/autoUpdateProject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You may also want to change the images and icons to have application-specific ones. To do so, you can add the options: <code>&lt;leftImage&gt;</code>, <code>&lt;logoImage&gt;</code>, <code>&lt;splashImage&gt;</code>, <code>&lt;wmImage&gt;</code>. Once all desired options are included in <code>autoUpdateProject.xml</code> file, you can build the AutoUpdate wizard using the customize command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"> installbuilder-21.9.0/autoupdate/bin/customize.run build autoUpdateProject.xml linux
 installbuilder-21.9.0/autoupdate/bin/customize.run build autoUpdateProject.xml windows
 installbuilder-21.9.0/autoupdate/bin/customize.run build autoUpdateProject.xml osx</code></pre>
</div>
</div>
<div class="paragraph">
<p>After that, binary files for Linux, OS X and Windows should be found in the AutoUpdate output directory.</p>
</div>
<div class="paragraph">
<p>Apart from the AutoUpdate binary, you will need to setup a server with the new installers and update.xml file. This example assumes the server is running locally in port 8080. (you can easily setup a web server using LAMPStack (Linux), WAMPStack (Windows) or MAMPStack (OS X) from <a href="http://bitnami.org">BitNami.org</a>). Just copy the latest installers and an update.xml file describing that version, the filenames and mirrors to the server:</p>
</div>
<div class="paragraph">
<p><a id="snip807"></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">    &lt;installerInformation&gt;
       &lt;versionId&gt;200&lt;/versionId&gt;
       &lt;version&gt;2.0.0&lt;/version&gt;
       &lt;platformFileList&gt;
	   &lt;platformFile&gt;
	       &lt;filename&gt;myapplication-installer-2.0.0.exe&lt;/filename&gt;
	       &lt;platform&gt;windows&lt;/platform&gt;
	   &lt;/platformFile&gt;
	   &lt;platformFile&gt;
	       &lt;filename&gt;myapplication-installer-2.0.0.run&lt;/filename&gt;
	       &lt;platform&gt;linux&lt;/platform&gt;
	   &lt;/platformFile&gt;

	   &lt;platformFile&gt;
	       &lt;filename&gt;myapplication-installer-2.0.0.app.tgz&lt;/filename&gt;
	       &lt;platform&gt;osx&lt;/platform&gt;
	   &lt;/platformFile&gt;
       &lt;/platformFileList&gt;
       &lt;downloadLocationList&gt;
	   &lt;downloadLocation&gt;
	       &lt;url&gt;http://127.0.0.1:8080/downloads/&lt;/url&gt;
	   &lt;/downloadLocation&gt;
       &lt;/downloadLocationList&gt;
    &lt;/installerInformation&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>where <code>&lt;versionId&gt;</code> has been set to a higher integer value than previous ones and a single mirror has been configured. You can include any number of mirrors by adding multiple <code>&lt;downloadLocation&gt;</code> elements though. In the example, the installers will be available from:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>http://127.0.0.1:8080/downloads/myapplication-installer-2.0.0.run</code></p>
</li>
<li>
<p><code>http://127.0.0.1:8080/downloads/myapplication-installer-2.0.0.exe</code></p>
</li>
<li>
<p><code>http://127.0.0.1:8080/downloads/myapplication-installer-2.0.0.app.tgz</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To provide AutoUpdate with the needed information to find the XML file in the server and to check the information on it, you must write an <code>update.ini</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[Update]
url = http://127.0.0.1:8080/update.xml
version_id = 100
check_for_updates = 1
update_download_location = /tmp</pre>
</div>
</div>
<div class="paragraph">
<p>In this case, <code>update.xml</code> will be obtained from <code>localhost</code>, saving temporary installers inside the <code>/tmp</code> path. The application upgrade process will be done if the received <code>&lt;versionId&gt;</code> is greater than 100.</p>
</div>
<div class="paragraph">
<p>Once you have placed your binary files and <code>update.xml</code> on your server and the <code>update.ini</code> file is in the same directory as the AutoUpdate binary, it is ready to go. You can launch it by double-clicking on it or from a command line prompt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$&gt; autoupdater-linux.run</code></pre>
</div>
</div>
<div class="paragraph">
<p>When it is started, according to the settings you configured in the XML project, if the user running the updater is not an Administrator, he will be notified and the AutoUpdate process will end. If there is another instance already running, a notification will let the user know and he or she will be able to indicate whether or not the process should continue. If both requirements are met, a welcome screen will appear:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/welcome-auto-update.png" alt="Welcome to the My application update">
</div>
<div class="title">Figure 1: Welcome to the My application update</div>
</div>
<div class="paragraph">
<p>After clicking <code>Next</code>, you will get a screen to configure a proxy if it is necessary.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/connect-to-internet.png" alt="Connect to the Internet">
</div>
<div class="title">Figure 2: Connect to the Internet</div>
</div>
<div class="paragraph">
<p>It will contact the server and check if there are new versions available. If there is an update, the following screen will be shown:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/check-for-updates.png" alt="Check for updates">
</div>
<div class="title">Figure 3: Check for updates</div>
</div>
<div class="paragraph">
<p>If you click Next, a new window with the list of mirrors will be displayed:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/mirror-selection.png" alt="Mirror selection">
</div>
<div class="title">Figure 4: Mirror selection</div>
</div>
<div class="paragraph">
<p>If you just provided a single download location for the binaries, the mirrors page will be skipped.</p>
</div>
<div class="paragraph">
<p>After the details of the connection have been configured, the download process starts:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/downloading-updates.png" alt="Downloading Updates">
</div>
<div class="title">Figure 5: Downloading Updates</div>
</div>
<div class="paragraph">
<p>Once the download finishes, the update installer is automatically started.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adding_the_autoupdate_to_an_existing_installbuilder_project">Adding the AutoUpdate to an Existing InstallBuilder project</h3>
<div class="paragraph">
<p>The only steps required to include the new feature as part of the application installation is to copy the appropriate AutoUpdate wizard file for each operating system and place the configured <code>update.ini</code> file in the same folder. For instance, you can define a component in the following way:</p>
</div>
<div class="paragraph">
<p><a id="snip808"></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;component&gt;
   &lt;name&gt;autoupdater&lt;/name&gt;
   &lt;description&gt;includes tool to perform updates&lt;/description&gt;
   &lt;canBeEdited&gt;0&lt;/canBeEdited&gt;
   &lt;selected&gt;1&lt;/selected&gt;
   &lt;show&gt;0&lt;/show&gt;
   &lt;folderList&gt;
       &lt;folder&gt;
           &lt;name&gt;autoupdaterwin&lt;/name&gt;
           &lt;destination&gt;${installdir}&lt;/destination&gt;
           &lt;platforms&gt;windows&lt;/platforms&gt;
           &lt;distributionFileList&gt;
               &lt;distributionFile origin="autoupdater-windows.exe"/&gt;
           &lt;/distributionFileList&gt;
       &lt;/folder&gt;
       &lt;folder&gt;
           &lt;name&gt;autoupdaterlinux&lt;/name&gt;
           &lt;destination&gt;${installdir}&lt;/destination&gt;
           &lt;platforms&gt;linux&lt;/platforms&gt;
           &lt;distributionFileList&gt;
               &lt;distributionFile origin="autoupdater-linux.run"/&gt;
           &lt;/distributionFileList&gt;
       &lt;/folder&gt;
   &lt;/folderList&gt;
   &lt;postInstallationActionList&gt;
       &lt;writeFile&gt;
           &lt;path&gt;${installdir}/update.ini&lt;/path&gt;
           &lt;text&gt;[Update]
url = ${update_xml_url}
version_id = ${application_version_id}
update_download_location = ${system_temp_directory}
check_for_updates = 1
&lt;/text&gt;
       &lt;/writeFile&gt;
   &lt;/postInstallationActionList&gt;
&lt;/component&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where the <code>update_xml_url</code> installer variable must be setup to the point where <code>update.xml</code> can be fetched and <code>application_version_id</code> must be modified to a higher value on each installer update. This component will automatically take the AutoUpdate binaries from the project directory and deploy the appropriate one on the target machine.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_autoupdate_as_a_notifier">Using AutoUpdate as a notifier</h3>
<div class="paragraph">
<p>Another interesting feature you could add to your installations is using the AutoUpdate as a notifier which will silently check for updates. This can be achieved by calling the tool in unattended mode:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ autoupdater.run --mode unattended</code></pre>
</div>
</div>
<div class="paragraph">
<p>The exit code will be 0 if an update is available and <code>&gt;0</code> if not. Once a new version is detected, you could then show a popup to your users with a <code>There's a new update available</code> message. To do so, you just call the process in background and generate the message if the returned code is 0:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">if (system("path/to/autoupdater --mode unattended") == 0){
 printf("Update available. Run autoupdate to apply it.");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Something similar may be added when the application starts, or as a cron task if it is a web application, so that the user detects that there&#8217;s a new update without having to run AutoUpdate manually to check it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_execute_custom_actions_right_after_the_autoupdate_has_started">How to execute custom actions right after the AutoUpdate has started</h3>
<div class="paragraph">
<p>In some cases, it is necessary to make a first validation of the system to start the autoupdate process. This can be achieved using the <code>&lt;autoUpdateInitializationActionList&gt;</code> element, that is used to perform action once the update installer has started.</p>
</div>
<div class="paragraph">
<p><a id="snip809"></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;autoUpdateInitializationActionList&gt;
  &lt;throwError&gt;
    &lt;text&gt;Another instance is running. This instance will abort&lt;/text&gt;
    &lt;ruleList&gt;
      &lt;singleInstanceCheck logic="is_running" /&gt;
    &lt;/ruleList&gt;
  &lt;/throwError&gt;
&lt;/autoUpdateInitializationActionList&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_execute_custom_actions_after_the_update_installer_is_downloaded">How to execute custom actions after the update installer is downloaded</h3>
<div class="paragraph">
<p>The default behavior of AutoUpdate is to launch the downloaded installer but sometimes it is necessary to perform some validation over the downloaded files, for example to check the integrity of the downloaded data. These kind of custom actions can be defined using the <code>&lt;postUpdateDownloadActionList&gt;</code>:</p>
</div>
<div class="paragraph">
<p><a id="snip810"></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;postUpdateDownloadActionList&gt;
     &lt;!-- Execute some validations here --&gt;
     ...
     &lt;!-- The path to the downloaded update will be stored in
     the ${downloadedFilePath} built-in variable. We calculate the MD5 --&gt;
     &lt;runProgram&gt;
       &lt;program&gt;md5sum&lt;/program&gt;
       &lt;programArguments&gt;${downloadedFilePath}&lt;/programArguments&gt;
     &lt;/runProgram&gt;
     &lt;!-- You can use any action like using httpGet to retrieve a valid
     value for the md5sum or directly send the md5 to the server to validate it it --&gt;
     &lt;throwError&gt;
        &lt;text&gt;It seems the downloaded installer was corrupted&lt;/text&gt;
        &lt;ruleList&gt;
          &lt;compareText&gt;
            &lt;text&gt;${program_stdout}&lt;/text&gt;
            &lt;logic&gt;does_not_equal&lt;/logic&gt;
            &lt;value&gt;${someExpectedValue}&lt;/value&gt;
          &lt;/compareText&gt;
        &lt;/ruleList&gt;
     &lt;/throwError&gt;
     ...
     &lt;!-- Launch the installer --&gt;
     &lt;runProgram&gt;
         &lt;program&gt;${downloadedFilePath}&lt;/program&gt;
         &lt;programArguments&gt;--prefix /tmp/someDir --enable_component_a 1 --is_update 1 &amp;amp;&lt;/programArguments&gt;
     &lt;/runProgram&gt;
 &lt;/postUpdateDownloadActionList&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please note the usage of the built-in <code>${downloadedFilePath}</code> variable to get the path of the update installer. This is necessary because although you define the <code>update_download_location</code> key in the update.ini file, if an older file with the same name is found there, a suffix will automatically be appended to the file name: <code>sample-1.0-windows-installer.exe.1</code>, <code>sample-1.0-windows-installer.exe.2</code> &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>In addition, you will have to manually launch the downloaded file because the default behavior was overridden.</p>
</div>
<div class="paragraph">
<p>This is especially useful to launch the updates in unattended mode or to pass some command line argument as in the example.</p>
</div>
</div>
<div class="sect2">
<h3 id="_autoupdate_installers_in_unattended_mode">AutoUpdate installers in unattended mode</h3>
<div class="paragraph">
<p>The AutoUpdate installer can be executed in unattended mode just as with regular InstallBuilder installers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">autoupdate-linux.run --mode unattended</code></pre>
</div>
</div>
<div class="paragraph">
<p>As mentioned in the previous section, when launched in unattended mode, AutoUpdate will simply check if an update is available and then will finish its execution. However, this behavior is configurable.</p>
</div>
<div class="sect3">
<h4 id="_regular_unattended_mode">Regular unattended mode</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">autoupdate-linux.run --mode unattended</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this mode, AutoUpdate is executed as a checker. It will return a <em>0</em> exit code if it finds a new update and a positive integer otherwise. The snippet below shows how to use it from an InstallBuilder installer which bundled AutoUpdate:</p>
</div>
<div class="paragraph">
<p><a id="snip811"></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">    &lt;project&gt;
	...
	&lt;initializationActionList&gt;
	   &lt;showQuestion default="yes" text="Would you like to check for updates?" variable="shouldCheckForUpdates" /&gt;
	   &lt;actionGroup&gt;
	      &lt;actionList&gt;
		 &lt;!-- Once you have unpacked the bundled autoupdate and update.ini to some folder, like /tmp/autoupdate --&gt;
		 &lt;runProgram&gt;
		    &lt;program&gt;/tmp/autoupdate/autoupdate-linux.run&lt;/program&gt;
		    &lt;programArguments&gt;--mode unattended&lt;/programArguments&gt;
		 &lt;/runProgram&gt;
		 &lt;showInfo text="An update is available!"&gt;
		   &lt;ruleList&gt;
		       &lt;isFalse value="${program_exit_code}" /&gt;
		   &lt;/ruleList&gt;
		 &lt;/showInfo&gt;
		 &lt;showInfo text="Sorry, no update is available..."&gt;
		   &lt;ruleList&gt;
		       &lt;compareText text="${program_exit_code}" value="0" logic="does_not_equal" /&gt;
		   &lt;/ruleList&gt;
		 &lt;/showInfo&gt;
	      &lt;/actionList&gt;
	      &lt;ruleList&gt;
		 &lt;compareText text="${shouldCheckForUpdates}" value="yes" logic="equals" /&gt;
	      &lt;/ruleList&gt;
	   &lt;/actionGroup&gt;
	&lt;/initializationActionList&gt;
	...
    &lt;/project&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_download_unattended_mode">Download unattended mode</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">autoupdate-linux.run --mode unattended --unattendedmodebehavior download</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default value for <code>unattendedmodebehavior</code> is <code>check</code>, which causes AutoUpdate tool to only check for updates.
If instead of only checking for updates, you want to download and install the update, the unattendedmodebehavior has to be set to <code>download</code>.</p>
</div>
<div class="paragraph">
<p>As mentioned, a <em>0</em> return code means "An update is available" and a non-zero return code means "No update available" but in some scenarios you need more information. To provide this information, AutoUpdate uses the return codes summarized below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>0</code>: Successfully downloaded and executed the installer.</p>
</li>
<li>
<p><code>1</code>: No updates available</p>
</li>
<li>
<p><code>2</code>: Error connecting to remote server or invalid XML file</p>
</li>
<li>
<p><code>3</code>: An error occurred downloading the file</p>
</li>
<li>
<p><code>4</code>: An error occurred executing the downloaded update or evaluating its <code>&lt;postUpdateDownloadActionList&gt;</code></p>
</li>
<li>
<p><code>5</code>: Update check disabled through <code>check_for_updates</code> setting</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Return codes 0, 1, 2 and 5 are common for both modes while 3-4 are exclusive to <em>download</em> mode.</p>
</div>
<div class="paragraph">
<p>When launching AutoUpdate from a Windows cmd, as it is compiled as a GUI application, it will launch it in background, reporting 0 as the exit code if the file can be executed. To force the cmd to wait for the process to finalize and retrieve the correct code returned by AutoUpdate it should be launched as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cmd /W /C autoupdate-windows.exe --mode unattended</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is not necessary if the AutoUpdate is launched from a VMware InstallBuilder installer using an action.</p>
</div>
<div class="paragraph">
<p>If no errors occur in the process, this will download and install the update. However, if the update is a big file you may want to provide some feedback to the user. To achieve it you can add --unattendedmodeui minimal or --unattendedmodeui minimalWithDialogs to the command line options. This will display a download progress bar as displayed in the image:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">autoupdate-linux.run --mode unattended --unattendedmodebehavior download --unattendedmodeui minimalWithDialogs</code></pre>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/autoupdate-update.png" alt="Update">
</div>
<div class="title">Figure 6: Unattended Update Download</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sequential_updates">Sequential updates</h3>
<div class="paragraph">
<p>The easiest way to create update installers is to include some additional code in your latest installer to handle outdated installations. However, using this update method implies that the user has to download a full installer even if the update is minimal, like updated documentation. In these cases, it may be desirable to deliver small delta installers instead, including just the new files and logic to install and configure them.</p>
</div>
<div class="paragraph">
<p>Currently, the AutoUpdate tool just allows defining one update - the latest one released for a product instead of allowing multiple delta updates and dependencies between them. However, this does not mean you cannot use AutoUpdate to develop these kind of updates. This section details how to achieve it with a step-by-step example.</p>
</div>
<div class="paragraph">
<p>To implement the multiupdate feature, you just need a regular InstallBuilder installer that will make use of a bundled AutoUpdate. The workflow at runtime would be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Unpack the AutoUpdate and write an update.ini file, with an url containing the <code>&lt;versionId&gt;</code> of the current version, for example: <a href="http://192.168.1.182:8080/updates.php?versionId=101" class="bare">http://192.168.1.182:8080/updates.php?versionId=101</a></p>
</li>
<li>
<p>Call the AutoUpdate in unattended mode to check and download the update if any</p>
</li>
<li>
<p>Update the update.ini with the updated version id from the update</p>
</li>
<li>
<p>Repeat step 2 with the updated information</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Using a PHP script as the update URL, you allow the server to decide which update.xml file to deliver. For example, if you store your update.xml files in a directory <code>versions</code> in your server, you could use the below code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-php" data-lang="php">&lt;?php

/* Define the higher version released*/
$maxVersion=12;

/* Get the current version sent by the autoupdate */
$version=$_GET['versionId'];

/* Check if the requested version is correct */
if (!isset($_GET["versionId"]) || $_GET["versionId"] &gt; $maxVersion) {
  echo "Incorrect version";
  exit();
} else {
  /* Depending on the current version, we decide which update to deliver */

  /* We provide an update pack for versions in the range 1-3 */
  if ($version &lt; 4 ) {
     $file="update-pack-1.xml";

  /* We provide an update pack for versions in the range 4-7 */
  } elseif ($version &lt; 8 ) {
     $file="update-pack-2.xml";

  /* For versions below the max, we deliver the next one */
  } elseif ($version &lt; $maxVersion) {
     $file="update".($version+1).".xml";

  /* For the latest version, we resend it, it will be discarded by the AutoUpdate */
  } else {
     $file="update".$maxVersion.".xml";
  }

  $data=file_get_contents('./versions/'.$file);
  echo $data;
  exit();
}
?&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The PHP script will return update packs for the older versions and individual updates for the latest ones. This allows controlling the granularity of the updates.</p>
</div>
<div class="paragraph">
<p>The next step is to include the update code in the XML project:</p>
</div>
<div class="paragraph">
<p><a id="snip812"></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
   &lt;!-- bundled version --&gt;
   &lt;versionId&gt;100&lt;/versionId&gt;
   ...
   &lt;componentList&gt;
      &lt;component&gt;
         &lt;name&gt;autoupdate&lt;/name&gt;
         &lt;folderList&gt;
           &lt;folder&gt;
             &lt;name&gt;autoupdate&lt;/name&gt;
             &lt;destination&gt;${installdir}/autoupdate&lt;/destination&gt;
               &lt;distributionFileList&gt;
                 &lt;distributionFile&gt;
                   &lt;origin&gt;path/to/autoupdate.run&lt;/origin&gt;
                 &lt;/distributionFile&gt;
               &lt;/distributionFileList&gt;
           &lt;/folder&gt;
         &lt;/folderList&gt;
      &lt;/component&gt;
   &lt;/componentList&gt;
   ...
   &lt;parameterList&gt;
      &lt;!-- This parameter will be used to enable/disable checking for updates --&gt;
      &lt;booleanParameter name="enableUpdates" ask="0" value="1"/&gt;
   &lt;/parameterList&gt;

   &lt;!-- After installing the bundled version, we query our servers for updates --&gt;
   &lt;postInstallationActionList&gt;
     &lt;!-- Write the initial update.ini file --&gt;
     &lt;writeFile&gt;
       &lt;path&gt;${installdir}/autoupdate/update.ini&lt;/path&gt;
       &lt;text&gt;[Update]
url = http://www.example.com/versions.php?versionId=${project.versionId}
version_id = ${project.versionId}
update_download_location = ${installdir}/autoupdate/updateInstallers
check_for_updates = 1
&lt;/text&gt;
     &lt;/writeFile&gt;

     &lt;!-- Keep asking for updates while available --&gt;
     &lt;while&gt;
       &lt;actionList&gt;
         &lt;showProgressDialog&gt;
            &lt;actionList&gt;
              &lt;runProgram progressText="Checking for updates..."&gt;
                 &lt;abortOnError&gt;0&lt;/abortOnError&gt;
                 &lt;showMessageOnError&gt;0&lt;/showMessageOnError&gt;
                 &lt;program&gt;${installdir}/autoupdate/autoupdate.run&lt;/program&gt;
                 &lt;programArguments&gt;--mode unattended&lt;/programArguments&gt;
              &lt;/runProgram&gt;
            &lt;/actionList&gt;
         &lt;/showProgressDialog&gt;
         &lt;!-- Break the loop if there is no update available (exit code &gt; 0) --&gt;
         &lt;break progressText="No Update Available"&gt;
           &lt;ruleList&gt;
             &lt;compareValues&gt;
               &lt;value1&gt;${program_exit_code}&lt;/value1&gt;
               &lt;logic&gt;greater&lt;/logic&gt;
               &lt;value2&gt;0&lt;/value2&gt;
             &lt;/compareValues&gt;
           &lt;/ruleList&gt;
         &lt;/break&gt;
         &lt;showProgressDialog&gt;
           &lt;actionList&gt;
             &lt;runProgram progressText="Downloading the update..."&gt;
               &lt;program&gt;${installdir}/autoupdate/autoupdate.run&lt;/program&gt;
               &lt;programArguments&gt;--mode unattended --unattendedmodebehavior download&lt;/programArguments&gt;
               &lt;/runProgram&gt;
             &lt;/actionList&gt;
         &lt;/showProgressDialog&gt;
       &lt;/actionList&gt;
       &lt;conditionRuleList&gt;
         &lt;isTrue value="${parameter(enableUpdates).value}"/&gt;
       &lt;/conditionRuleList&gt;
     &lt;/while&gt;
   &lt;/postInstallationActionList&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this point you have a project that unpacks AutoUpdate and uses it to check for updates while displaying a progress dialog. If your updates follow the same structure, the next installed version will update the <code>update.ini</code> file and, if <code>${parameter(enableUpdates).value}</code> is enabled, it will check for updates again. As this is not the desired behavior, the AutoUpdate project will be configured to disable it:</p>
</div>
<div class="paragraph">
<p><a id="snip813"></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;autoUpdateProject&gt;
   ...
   &lt;postUpdateDownloadActionList&gt;
     &lt;!-- Launch the update specifying the ${installdir} and disabling checking for updates --&gt;
     &lt;runProgram&gt;
         &lt;program&gt;${downloadedFilePath}&lt;/program&gt;
         &lt;programArguments&gt;--prefix "${installer_directory}/../" --enableUpdates 0 --mode unattended --unattendedmodeui minimalWithDialogs&lt;/programArguments&gt;
     &lt;/runProgram&gt;
   &lt;/postUpdateDownloadActionList&gt;
&lt;/autoUpdateProject&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above code installs the download update in the same installation directory using the <code>${installer_directory}</code> built-in variable, containing the AutoUpdate parent directory.</p>
</div>
</div>
</div>
</div>
</div>
</body>
</html>